<div class="card m-3">
  <h5 class="card-header">Permissions</h5>
  <div class="card-body">
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>

      <div class="row">
        <div class="col form-group">
          <label>Permission Name</label>
          <input type="text"
                 name="name"
                 class="form-control"
                 [(ngModel)]="model.name"
                 #name="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && name.invalid }"
                 required>
          <div *ngIf="f.submitted && name.invalid" class="invalid-feedback">
            <div *ngIf="name.errors.required">Name is required</div>
          </div>
        </div>

        <div class="col form-group">
          <label>Permission Code</label>
          <input type="text"
                 name="code"
                 class="form-control"
                 [(ngModel)]="model.code"
                 #code="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && code.invalid }"
                 required>
          <div *ngIf="f.submitted && code.invalid" class="invalid-feedback">
            <div *ngIf="code.errors.required">Code is required</div>
          </div>
        </div>

        <div class="col form-group">
          <label>Description</label>
          <input type="text" name="description" class="form-control" [(ngModel)]="model.description" #description="ngModel">
        </div>

      </div>

      <div class="row mt-2">
        <div class="col">
          <button class="btn btn-primary btn-labeled mr-2 mb-3"><b><i aria-hidden="true" class="fa fa-plus"></i></b> Add </button>
        </div>
      </div>


      <div class="row mt-5">
        <div class="col">

          <p-table [value]="permissions" [responsive]="true" [rowHover]="true" class="sbm-dt" [paginator]="permissions?.length > 5" [rows]="5">
            <ng-template pTemplate="header">
              <tr>
                <th class = "text-center"style="width: 12rem;">{{'Permission Name' | translate}}</th>
                <th class = "text-center">{{'Permission Code' | translate}}</th>
                <th class = "text-center">{{'Description' | translate}}</th>
              </tr>
            </ng-template>
            <ng-template let-i="rowIndex" pTemplate="body" let-dtPermission>
              <tr class="ui-selectable-row">
                <td class = "text-center">{{dtPermission.name}}</td>
                <td class = "text-center" >{{dtPermission.code}}</td>
                <td class = "text-center">{{dtPermission.description}}</td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="3" class="text-center">
                  no data
                </td>
              </tr>
            </ng-template>
          </p-table>

        </div>
      </div>
    </form>
  </div>
</div>
